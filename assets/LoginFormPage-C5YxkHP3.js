import{r as a,j as e,N as c}from"./index-Dy3mELYK.js";function p(){const[o,s]=a.useState(!1),[n,l,t]=a.useActionState(async(u,i)=>{s(!1);const r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i.get("username"),password:i.get("password"),expiresInMins:30}),credentials:"include"});if(!r.ok)return"Login failed. Please try again.";const d=await r.json();console.log(d),s(!0)},null);return e.jsxs("div",{style:{marginLeft:"auto",marginRight:"auto",paddingLeft:"40px",paddingRight:"40px",maxWidth:"800px"},children:[e.jsxs(c,{to:"/",className:"mb-12",children:["<<"," Home"]}),e.jsxs("form",{action:l,style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("label",{className:"pr-12",htmlFor:"username",children:"Username:"}),e.jsx("input",{id:"username",type:"text",name:"username",required:!0})]}),e.jsxs("div",{className:"mb-24",children:[e.jsx("label",{className:"pr-12",htmlFor:"password",children:"Password:"}),e.jsx("input",{id:"password",type:"password",name:"password",required:!0})]}),e.jsx("button",{className:"button",type:"submit",disabled:t,children:t?"Logging in...":"Login"}),n&&e.jsx("p",{style:{color:"red"},children:n}),o&&e.jsx("p",{style:{color:"green"},children:"Logged in successfully!"})]})]})}const g=()=>e.jsx("section",{style:{padding:"40px 0",display:"flex",justifyContent:"center"},children:e.jsx(p,{})});export{g as default};
